<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Strength Checker</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        /* Import Google Font */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap');

        /* Reset and basic setup */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: #0d0f2b; /* Dark background from the image */
            /* Adding some subtle dots like in the image */
            background-image: 
                radial-gradient(circle at 15% 15%, rgba(64, 112, 244, 0.3) 0px, transparent 2px),
                radial-gradient(circle at 80% 20%, rgba(64, 112, 244, 0.3) 0px, transparent 2px),
                radial-gradient(circle at 90% 85%, rgba(64, 112, 244, 0.3) 0px, transparent 2px),
                radial-gradient(circle at 20% 80%, rgba(64, 112, 244, 0.3) 0px, transparent 2px);
            background-size: 100px 100px;
        }

        /* Main container with the glass effect */
        .wrapper {
            width: 90%;
            max-width: 450px;
            padding: 28px;
            border-radius: 15px;
            /* The Glassmorphism Effect */
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px); /* For Safari */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            color: #fff;
        }

        /* Header section with lock icon and title */
        .wrapper header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        header .fa-lock {
            font-size: 2rem;
            color: #4070f4;
            background: #fff;
            padding: 10px;
            border-radius: 50%;
            height: 50px;
            width: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        header h2 {
            font-size: 1.6rem;
        }

        /* Input box for the password */
        .input-box {
            position: relative;
            width: 100%;
            height: 50px;
        }

        .input-box input {
            width: 100%;
            height: 100%;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 0 45px 0 15px;
            font-size: 1rem;
            color: #fff;
            outline: none;
        }

        .input-box input::placeholder {
            color: #ccc;
        }
        
        .input-box input:focus {
            border-color: #4070f4;
        }

        .input-box span {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #ccc;
        }

        /* Strength indicator text */
        .strength-indicator {
            margin: 20px 0 10px 0; /* Adjusted margin */
            font-size: 1.1rem;
        }
        
        /* NEW: Strength bar container */
        .strength-bar-container {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-bottom: 20px;
        }

        #strength-bar-fill {
            height: 100%;
            border-radius: 4px;
            width: 0%; /* Default width */
            background-color: transparent;
            transition: width 0.4s ease, background-color 0.4s ease;
        }

        /* List of password requirements */
        .validation-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .requirement {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #999; /* Default color for unmet requirements */
            transition: color 0.3s ease;
        }

        .requirement i {
            font-size: 1.2rem;
            color: #e74c3c; /* Red 'X' icon */
            transition: color 0.3s ease, content 0.3s ease;
        }

        /* Style for when a requirement is met */
        .requirement.valid {
            color: #fff; /* White text for met requirement */
        }

        .requirement.valid i {
            color: #2ecc71; /* Green check icon */
        }
        
        /* Suggestions container */
        .suggestions-container {
            margin-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 15px;
            display: none; /* Hidden by default */
            opacity: 0;
            transition: opacity 0.4s ease, display 0.4s ease;
        }

        .suggestions-container.visible {
            display: block;
            opacity: 1;
        }

        .suggestions-title {
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 10px;
        }

        .suggestions-list {
            display: flex;
            flex-wrap: wrap; /* Allow suggestions to wrap on smaller screens */
            gap: 10px;
        }

        .suggestion-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Roboto Mono', monospace; /* Make it look like code */
            transition: background-color 0.3s ease, color 0.3s ease;
            border: 1px solid transparent;
        }

        .suggestion-item:hover {
            background: #4070f4;
            color: #fff;
        }

    </style>
</head>
<body>

    <div class="wrapper">
        <header>
            <i class="fa-solid fa-lock"></i>
            <h2>Password Strength Checker</h2>
        </header>
        
        <div class="input-box">
            <input type="password" placeholder="Enter your password">
            <span class="fa-solid fa-eye-slash"></span>
        </div>

        <div class="strength-indicator">
            <p>Strength: -</p>
        </div>
        
        <!-- NEW: Bar container -->
        <div class="strength-bar-container">
            <div id="strength-bar-fill"></div>
        </div>

        <ul class="validation-list">
            <li class="requirement">
                <i class="fa-solid fa-circle-xmark"></i>
                <span>At least 8 characters</span>
            </li>
            <li class="requirement">
                <i class="fa-solid fa-circle-xmark"></i>
                <span>Contains uppercase letters</span>
            </li>
            <li class="requirement">
                <i class="fa-solid fa-circle-xmark"></i>
                <span>Contains lowercase letters</span>
            </li>
            <li class="requirement">
                <i class="fa-solid fa-circle-xmark"></i>
                <span>Includes numbers</span>
            </li>
            <li class="requirement">
                <i class="fa-solid fa-circle-xmark"></i>
                <span>Has special characters</span>
            </li>
        </ul>

        <!-- Suggestions will appear here when password is weak -->
        <div class="suggestions-container">
            <p class="suggestions-title">Need help? Try one of these:</p>
            <div class="suggestions-list">
                <!-- Suggestions will be injected here by JS -->
            </div>
        </div>

    </div>

    <script>
        const passwordInput = document.querySelector(".input-box input");
        const eyeIcon = document.querySelector(".input-box span");
        const requirementList = document.querySelectorAll(".requirement");
        const strengthText = document.querySelector(".strength-indicator p");
        const strengthBarFill = document.getElementById("strength-bar-fill"); // Get the bar
        const suggestionsContainer = document.querySelector(".suggestions-container");
        const suggestionsList = document.querySelector(".suggestions-list");

        // An array of password requirements
        const requirements = [
            { regex: /.{8,}/, index: 0 }, // Min 8 characters
            { regex: /[A-Z]/, index: 1 }, // At least one uppercase letter
            { regex: /[a-z]/, index: 2 }, // At least one lowercase letter
            { regex: /[0-9]/, index: 3 }, // At least one number
            { regex: /[^A-Za-z0-9]/, index: 4 }, // At least one special character
        ];

        // Function to check the password against requirements
        const checkPassword = (password) => {
            let validCount = 0;
            requirements.forEach(item => {
                const isValid = item.regex.test(password);
                const requirementItem = requirementList[item.index];
                const icon = requirementItem.querySelector("i");

                if (isValid) {
                    requirementItem.classList.add("valid");
                    icon.className = "fa-solid fa-circle-check";
                    validCount++;
                } else {
                    requirementItem.classList.remove("valid");
                    icon.className = "fa-solid fa-circle-xmark";
                }
            });

            // Update strength text and bar based on valid count
            switch (validCount) {
                case 0:
                    strengthText.textContent = "Strength: -";
                    strengthBarFill.style.width = "0%";
                    strengthBarFill.style.backgroundColor = "transparent";
                    break;
                case 1:
                case 2:
                    strengthText.textContent = "Strength: Weak";
                    strengthBarFill.style.width = "33%";
                    strengthBarFill.style.backgroundColor = "#e74c3c"; // Red
                    break;
                case 3:
                case 4:
                    strengthText.textContent = "Strength: Medium";
                    strengthBarFill.style.width = "66%";
                    strengthBarFill.style.backgroundColor = "#f1c40f"; // Yellow
                    break;
                case 5:
                    strengthText.textContent = "Strength: Strong";
                    strengthBarFill.style.width = "100%";
                    strengthBarFill.style.backgroundColor = "#2ecc71"; // Green
                    break;
            }

            // Show or hide suggestions based on strength
            if (strengthText.textContent === "Strength: Weak" || strengthText.textContent === "Strength: -") {
                displaySuggestions(password);
            } else {
                hideSuggestions();
            }
        };

        // Event listener for password input
        passwordInput.addEventListener("keyup", (e) => {
            checkPassword(e.target.value);
        });

        // Event listener for the eye icon to toggle password visibility
        eyeIcon.addEventListener("click", () => {
            passwordInput.type = passwordInput.type === "password" ? "text" : "password";
            eyeIcon.className = `fa-solid fa-eye${passwordInput.type === "password" ? "-slash" : ""}`;
        });

        // Function to generate a single fully random strong password
        const generateRandomPassword = () => {
            const length = 12;
            const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";
            let password = "";
            for (let i = 0; i < length; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return password;
        };
        
        // Function to display suggestions based on user input
        const displaySuggestions = (basePassword) => {
            suggestionsList.innerHTML = ""; // Clear old suggestions
            let suggestions = [];

            if (!basePassword || basePassword.length < 3) {
                // If input is empty or too short, generate 3 fully random passwords
                for (let i = 0; i < 3; i++) {
                    suggestions.push(generateRandomPassword());
                }
            } else {
                const specialChars = "!@$&*?";
                const year = new Date().getFullYear();

                // Suggestion 1: Leet speak-ish + Capitalize + special + number
                let s1 = basePassword.replace(/a/gi, '4').replace(/e/gi, '3').replace(/o/gi, '0');
                s1 = s1.charAt(0).toUpperCase() + s1.slice(1);
                s1 += specialChars[Math.floor(Math.random() * specialChars.length)];
                while(s1.length < 8) s1 += Math.floor(Math.random() * 10);
                suggestions.push(s1);

                // Suggestion 2: Capitalize + special char + year
                let s2 = basePassword.charAt(0).toUpperCase() + basePassword.slice(1);
                s2 += specialChars[Math.floor(Math.random() * specialChars.length)];
                s2 += year;
                suggestions.push(s2);

                // Suggestion 3: base + underscore + random numbers
                let s3 = basePassword + "_";
                while(s3.length < 10) s3 += Math.floor(Math.random() * 10);
                suggestions.push(s3);
            }

            // Create and append suggestion elements
            suggestions.forEach(newPassword => {
                const suggestionEl = document.createElement("div");
                suggestionEl.classList.add("suggestion-item");
                suggestionEl.textContent = newPassword;
                suggestionEl.addEventListener("click", () => {
                    passwordInput.value = newPassword;
                    checkPassword(newPassword); // Update UI based on the new password
                });
                suggestionsList.appendChild(suggestionEl);
            });

            suggestionsContainer.classList.add("visible");
        };

        // Function to hide and clear suggestions
        const hideSuggestions = () => {
            suggestionsContainer.classList.remove("visible");
            // It's better to clear the list when we decide to hide it
            suggestionsList.innerHTML = "";
        };
        
        // Initial check
        checkPassword(passwordInput.value);
    </script>
</body>
</html>
